{% macro album_card(album) %}
<div class="bg-primary rounded-lg shadow hover:shadow-md transition-shadow duration-200">
  <!-- Album image container with relative positioning -->
  <div class="relative group">
    <a href="/album/{{ album.sources.ytmusic.id }}" hx-get="/album/{{ album.sources.ytmusic.id }}" hx-target="#content"
      hx-push-url="true" class="block">
      <img src="{{ album.thumbnail.url }}" alt="{{ album.name }}"
        class="w-full aspect-square object-cover rounded-t-lg" />
    </a>
    <!-- Play button overlay -->
    <button onclick="handleAlbumPlay('{{ album.sources.ytmusic.id }}', event)"
      class="absolute bottom-2 right-2 bg-accent hover:bg-accent-light text-white rounded-full p-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 shadow-lg">
      <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
    </button>
  </div>
  <div class="p-4">
    <h3 class="font-medium text-primary">
      <a href="/album/{{ album.sources.ytmusic.id }}" hx-get="/album/{{ album.sources.ytmusic.id }}"
        hx-target="#content" hx-push-url="true" class="hover:text-accent transition-colors duration-200">
        {{ album.name }}
      </a>
    </h3>
    <p class="text-sm text-secondary">
      {% for artist in album.artists %}
      <a href="/artist/{{ artist.sources.ytmusic.id }}" hx-get="/artist/{{ artist.sources.ytmusic.id }}"
        hx-target="#content" hx-push-url="true" class="hover:text-accent transition-colors duration-200">
        {{ artist.name }}
      </a>
      {%- if not loop.last %}, {% endif %}
      {% endfor %}
    </p>
    {% if album.year %}
    <p class="text-sm text-muted mt-1">{{ album.year }}</p>
    {% endif %}
  </div>
</div>
{% endmacro %}
